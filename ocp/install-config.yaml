# https://docs.redhat.com/en/documentation/openshift_container_platform/4.20/html-single/installing_an_on-premise_cluster_with_the_agent-based_installer/index#installation-bare-metal-agent-installer-config-yaml_preparing-to-install-with-agent-based-installer
# https://docs.redhat.com/en/documentation/openshift_container_platform/4.20/html-single/installing_an_on-premise_cluster_with_the_agent-based_installer/index#validations-before-agent-iso-creation_preparing-to-install-with-agent-based-installer
apiVersion: v1
baseDomain: dynamic.redhatworkshops.io # Labbers - Edit this
compute:
- name: worker
  architecture: amd64
  hyperthreading: Enabled
  replicas: 3 # Labbers - Edit this
  platform: {}
controlPlane:
  name: master
  architecture: amd64
  hyperthreading: Enabled
  replicas: 3 # Labbers - Edit this
  platform: {}
metadata:
  name: zrphd # Labbers - Edit this, this is your cluster name
networking:
  clusterNetwork:
  - cidr: 10.128.0.0/14
    hostPrefix: 23
  machineNetwork:
  - cidr: 192.168.28.0/24 # Labbers - Edit this, Match this to your VM network
  networkType: OVNKubernetes
  serviceNetwork:
  - 172.30.0.0/16
platform:
  baremetal:
    apiVIPs:
    - 192.168.28.201 # Replace with your desired API Virtual IP
    ingressVIPs:
    - 192.168.28.202 # Replace with your desired Ingress Virtual IP

fips: false
pullSecret: '{"auths":{"quay.kubernetes.day":{"auth":"XXXXX"}}}' # Labbers - Edit this. Replace with your pull secret from Red Hat and your local Quay registry
sshKey: 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDKY6TrKDE+xWKzVz/EISjPrpIxGBuCu+FHzlN1jvkHlzqTm7AD0MCD2P79w761e61cz/KaBGVdN1paJe0IZTPp6pWlmcIUJHcnrLPMPlYqdqTqUk+h8QjIfl8mvD6J5p3m010N6Ls9LnNt9YyNEKhEFwrZ7UOLL+uf76nj+524Qnfp358PCVvhujaHvpR34bdxlrTptApRs4Va+mDpOuH0ShXJejF9wbaCI30HGl2AqxUFNggSfkGTPrDhfjFftTnA7KvCBoSMPs3hoUKNQuGt9csqFCadNjkeovjmmiiU6eoy1vNdICfGe7kMnFxvoB09rMgcK767+2xKfAwBWDLRU9wq6kElY310kHzdNEWuRjldCaz6zlWucDiDJ/Ib+QpIduS72015zSNa8wp0jvtZ4y6VQiKku2NePe7Hx802rysu85JEk81IFSX/b7jvaR0eIbLMNhfw0g1YRUbdwqUc3vOGxYHWZUgMXJEeDY2FTUn4PbY8hpTWlp6Zp/Rplc8=' # Labbers - Edit this, Replace with your public SSH key

# Labbers - Edit this
# This section is critical for disconnected installs.
# It points the cluster to your local Quay registry for container images.
ImageDigestSources:
- mirrors:
  - quay.kubernetes.day/john/ocp4.19/openshift/release-images
  source: quay.io/openshift-release-dev/ocp-release
- mirrors:
  - quay.kubernetes.day/john/ocp4.19/openshift/release
  source: quay.io/openshift-release-dev/ocp-v4.0-art-dev

#
# additionalTrustBundle 
#
# Lets you bake your own CA certificates into the clusterâ€™s trust store at install time.
# This is useful in air-gapped environments where your registry may be using self-signed certificates.
# Customer may be providing their own CA certificates to be trusted by the cluster.
#
#additionalTrustBundle: |
#  -----BEGIN CERTIFICATE-----
#  MIID...
#  -----END CERTIFICATE-----
#  -----BEGIN CERTIFICATE-----
#  MIIF...
#  -----END CERTIFICATE-----
